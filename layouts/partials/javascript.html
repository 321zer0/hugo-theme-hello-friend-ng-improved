{{ $main := resources.Get "js/main.js" | slice -}}
{{ range .Site.Params.bundleJS -}}
{{ $main = $main | append (resources.Get .) -}}
{{ end -}}
{{ $js := $main | resources.Concat "js/bundle.js" | minify | fingerprint -}}
<script src="{{ $js.Permalink }}" {{ printf "integrity=%q" $js.Data.Integrity | safeHTMLAttr }}></script>

{{- if templates.Exists "partials/footer-js-extra.html" -}}
{{ partial "footer-js-extra.html" . }}
{{- end }}